= Install the necessary dependencies

The required dependent programs and ruby libraries are detailed in the
table below. You may either install them via the gem package manager,
or if using Debian/Ubuntu by using the Debian package. Both names
arelisted in the table when both are available, if only one is listed,
then you can only install it via that mechanism.

If you are running Debian stable, you can often pull newer versions of
packages from [http://backports.org].

| gem        | debian package          | notes / required versions                     |
|------------+-------------------------+-----------------------------------------------|
|            | ruby1.8                 |                                               |
|            | ruby1.8-dev             |                                               |
|            | rubygems                |                                               |
| rake       | rake                    | >=0.8.1                                       |
| rails      | rails*                  | =2.1.0                                        |
| mysql      | libmysql-ruby           | ruby mysql support                            |
|            | mysql-server            | the database server                           |
|            | libopenssl-ruby         |                                               |
| tzinfo     | libtzinfo-ruby          | timezone support                              |
| RedCloth   | libredcloth-ruby        | for crabgrass markup: GreenCloth) >=4.2.2     |
| haml       | libhaml-ruby            | templating, generated CSS site themes >=2.2.8 |
| hpricot    | libhpricot-ruby         | visual WYSIWYG wiki editor >=0.8.1            |
| chronic    | libchronic-ruby         | required by backgroundrb                      |
| packet     | libpacket-ruby          | required by backgroundrb >=0.1.15             |
| mime-types | libmime-types-ruby      | file upload bug in IE6                        |
|            | openoffice.org          | image thumbnails/document previews (optional) |
|            | openoffice.org-headless | image thumbnails/document previews (optional) |
|            | msttcorefonts           | document previews (optional)                  |
|            | libcrack2               | password strength checking (optional)         |
|            | cracklib-runtime        | password strength checking (optional)         |
|            | libopen4-ruby           | better pipes, for latex renderer (optional)   |
|            | ruby-debug              | for debugging running application (optional)  |
|            | libxslt1-dev            | pre-required for nokogiri (optional)          |
|            | libxml2-dev             | pre-required for nokogiri (optional)          |
| nokogiri   | libnokogiri-ruby        | for webrat plugin (optional)                  |
| launchy    |                         | for webrat plugin (optional)                  |


NOTE: If you use the Debian rails package, you will need to install a
symlink in the crabgrass/vendor directory to rails:
  % ln -s /usr/share/rails vendor/rails

= Setup Mysql Database

Crabgrass currently only works with mysql.

Create the databases:

  mysqladmin -u root -p create crabgrass create crabgrass_development create crabgrass_test

There is a sample database configuration file in the <tt>config</tt>
directory of the crabgrass application. Use that to create a
<tt>config/database.yml</tt> file:

  cd crabgrass/config
  cp database.yml.example database.yml

For development mode, the example database.yml should be good to go,
unless you have a set a password for mysql.

For some linux distributions, you may need to specify a socket file
for mysql like so: <tt>socket: /var/run/mysqld/mysqld.sock</tt>. You
can probably figure out what socket to use by running <tt>ps -ef |
grep mysql</tt>.

The final step is to load the crabgrass schema and populate it with
test data:

  cd crabgrass
  rake db:schema:load
  rake db:fixtures:load
  rake cg:load_default_data

= Configuration

The default configuration is probably what you want for running in
development mode. For more details on how to configure crabgrass, see
CONFIGURATION[link:files/doc/CONFIGURATION.html].

= Running Crabgrass

  cd crabgrass
  script/server

This will run crabgrass in development mode, which is probably what
you want. If you donâ€™t want to use webbrick (the mini-web-server that
comes with rails) you can install the mongrel gem or debian
package. If installed, script/server will pick them instead.

Once the server is running, just point your web browser at
http://localhost:3000.

If you have run <tt>rake db:fixtures:load</tt>, there will be a bunch
of test data loaded, including users. To get started, you can login as
user 'blue' with password 'blue'.

= Troubleshooting

If you get:

  extconf.rb:11:in `require': no such file to load -- mkmf (LoadError)

...then you need also to install ruby1.8-dev.

