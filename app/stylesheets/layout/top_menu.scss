//
// global navigation menus
// (aka masthead menus, masthead nav)
//

$masthead_nav_tab_css: false !default;
$masthead_nav_tab_inactive_css: false !default;
$masthead_nav_tab_active_css: false !default;
$masthead_nav_tab_padding: 0.5em !default;
$masthead_nav_tab_margin: 0 !default;

$masthead_nav_dropdown_border_size: 1px; 

//
// menu titles
//

#menu li {@include inline-list;}
#menu li.menu {
  margin-right: $masthead_nav_tab_margin; // spacing between menus
  position: relative;  // requires for the submenus to line up under the menu titles
}

@if $masthead_nav_style == 'cutout' {
  $vertical_padding: $masthead_nav_tab_padding/2;
  #menu {
    position: absolute;        // allows us to put the menu at the bottom of the masthead
    bottom: $vertical_padding + 1px; // puts the menu at the bottom of the masthead
    padding-left: $masthead_content_padding;
  }
  #menu li a.menu_title {
    padding: $vertical_padding $masthead_nav_tab_padding;
    @include hover-link;
  
    // this is here in case we want to add a visible border to
    // li.menu_visible a.menu_title
    border: $masthead_nav_dropdown_border_size solid transparent;

    &.active {
      background: $background_color; // not configurable. it is 'cutout' style, afterall.
                                     // maybe we should support bg pattern?
    }
  }
}

// make the menu title look different when the dropdown is visible
// this is super cool, not sure if it works in ie.

#menu li.menu_visible a.menu_title {
  border: $masthead_nav_dropdown_border_size solid $masthead_nav_dropdown_border_color;
  border-bottom: 0;
  z-index: $zindex_menu + 1;
  position: relative;
  background-color: $masthead_nav_dropdown_background_color;
}

//
// the dropdown menus
//

// .menu_items are the actual dropdown menus that appear when you hover over the
// menu titles.
//
// to debug how .menu_items look, you may want to make them visible by default.
// this can be controlled in layouts/menu/boxes by setting :style=>"display: block"

#menu .menu_items {

  // positioning:
  // makes the menu items fall under the menu title.
  // the actual magic that makes them appear is the in javascript class DropMenu. 
  position: absolute; 
  left: 0;
  // this positions the drop menu exactly under the menu title. not sure
  // if it works in all browsers.
  margin-top: $masthead_nav_tab_padding/2 + $masthead_nav_dropdown_border_size;

  // appearance
  background-color: $masthead_nav_dropdown_background_color;
  padding: $grid_column_gutter;
  // white-space: nowrap; // give the menus as much aspace as they need
  border: $masthead_nav_dropdown_border_size solid  $masthead_nav_dropdown_border_color;
  z-index: $zindex_menu;

  // the name icons have a fancy hover effect
  // which requires adjusting the padding and position
  // of the icon. 
  a.name_icon {
    display: block;
    border: 1px solid $masthead_nav_dropdown_background_color;
    background-position: 4px 50%;
    padding: 12px 5px 12px 45px;
    &:hover {
      background-color: $masthead_nav_dropdown_hover_background_color;
      border: $masthead_nav_dropdown_hover_border;
    }
  }

  // allow menus to contain normal lists
  li {display: block;}
}

//
// menu columns
//

#menu{
  // columns
  div.leftcol {
    width: 17em;
    float: left;
  }
  div.rightcol {
    width: 17em;
    margin-left: 18em;
  }
  // make the me menu a little less wide
  div.leftcol.menu_me {width:10em;}
  div.rightcol.menu_me {margin-left:11em;}
}


