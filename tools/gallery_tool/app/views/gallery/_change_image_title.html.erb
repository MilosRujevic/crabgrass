<div id="change_title_form">
<% form_remote_tag(:url => page_url(@page,
                                    :action => 'change_image_title',
                                    :id => image.id),
		   :update => 'detail_image_title',
		   :complete => "$('detail_image_title').show();") do -%>
  <%= text_field_tag :title, image.page.title %>
  <input type="submit", value="<%= :save.t %>" onclick="this.disabled=true;this.value='Saving...';$('change_title_spinner').show();$('change_title_form_cancel').hide();" id="change_title_form_submit" />
  <%= button_to_function :cancel.t, "$('change_title_form').hide();$('detail_image_title').show();", :id => "change_title_form_cancel" %>
  <%= spinner('change_title') %>
<% end -%>
</div>

<%= javascript_tag "$('change_title_form').hide();" unless @change_title %>
  <%# we insert javascript that gets returned by xhr request here, so that it is
      evaluated. (tfjs = target for javascript) %>
<div id="tfjs" style="display:none">
